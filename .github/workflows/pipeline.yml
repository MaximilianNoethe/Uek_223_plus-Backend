name: Hello World CI

on: 
  push:

jobs:
 build:
   runs-on: ubuntu-latest

   steps:
   - uses: actions/checkout@v3

   - name: Print Hello World
     run: echo "Hello World"
     
   - name: Print secret
     run: echo $MY_SECRET
     env: 
       MY_SECRET: ${{ secrets.MY_SECRET }}

   - name: Execute bash script
     run: bash run.sh


   - name: Build docker Image of BE
     run: docker build -t maxxxxxx/backend-image-gallery nypag-spring_backend-5b58b4e2560c

   - name: Login to Docker Hub
     uses: docker/login-action@v3
     with:
        username: maxxxxxxx
        password: ${{ secrets.DOCKER_PASSWORD }}

   - name: Build and push
     uses: docker/build-push-action@v6
     with:
        push: true
        tags: maxxxxxxx/backend-image-gallery
